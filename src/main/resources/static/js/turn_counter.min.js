const TRICKROOM_TURN=5,TAILWIND_TURN=4,WEATHER_TURN=5,BARRIER_TURN=5;class Counter{constructor(con,disp,btn,ex_flag){this.cnt=0,this.con=con,this.disp=disp,this.btn=btn,this.flag=0,this.ex_flag=ex_flag}Set(){this.cnt=this.con,this.disp.innerHTML=this.cnt,this.disp.classList.add("first"),0==this.ex_flag?(this.flag=1,this.btn.className="start stop",this.btn.innerText="解除"):(this.flag=2,this.btn.className="start ex",this.btn.innerText="延長")}Count(){0==this.cnt&&(this.flag=0,this.btn.className="start",this.btn.innerText="開始",this.disp.classList.remove("last")),this.cnt>0&&(this.cnt--,this.disp.innerHTML=this.cnt,0==this.cnt&&(this.disp.classList.remove("last"),1!=this.flag&&0!=this.flag||(this.flag=0,this.btn.className="start",this.btn.innerText="開始"))),1==this.cnt&&(this.disp.classList.remove("first"),this.disp.classList.add("last"))}Reset(){this.cnt=0,this.disp.innerHTML=this.cnt,this.flag=0,this.btn.className="start",this.btn.innerText="開始",this.disp.classList.remove("first"),this.disp.classList.remove("last")}Extention(){this.cnt+=3,this.cnt>8&&(this.cnt=8),this.disp.innerHTML=this.cnt,this.flag=0,this.btn.className="start",this.btn.innerText="再開始",this.disp.classList.remove("last"),this.disp.classList.add("first")}Push(){0==this.flag?this.Set():1==this.flag?this.Reset():2==this.flag&&this.Extention()}}var tailwind_front=new Counter(4,disp_tailwind_front,btn_tailwind_front,0),reflect_front=new Counter(5,disp_reflect_front,btn_reflect_front,1),lightscreen_front=new Counter(5,disp_lightscreen_front,btn_lightscreen_front,1),safeguard_front=new Counter(5,disp_safeguard_front,btn_safeguard_front,0),swamp_front=new Counter(4,disp_swamp_front,btn_swamp_front,0),trickroom=new Counter(5,disp_trickroom,btn_trickroom,0),weather=new Counter(5,disp_weather,btn_weather,1),field=new Counter(5,disp_field,btn_field,0),tailwind_back=new Counter(4,disp_tailwind_back,btn_tailwind_back,0),reflect_back=new Counter(5,disp_reflect_back,btn_reflect_back,1),lightscreen_back=new Counter(5,disp_lightscreen_back,btn_lightscreen_back,1),safeguard_back=new Counter(5,disp_safeguard_back,btn_safeguard_back,0),swamp_back=new Counter(4,disp_swamp_back,btn_swamp_back,0);btn_tailwind_front.onclick=function(){tailwind_front.Push()},btn_swamp_front.onclick=function(){swamp_front.Push()},btn_reflect_front.onclick=function(){reflect_front.Push()},btn_lightscreen_front.onclick=function(){lightscreen_front.Push()},btn_brick_break_front.onclick=function(){reflect_front.Reset(),lightscreen_front.Reset()},btn_safeguard_front.onclick=function(){safeguard_front.Push()},btn_trickroom.onclick=function(){trickroom.Push()},btn_weather.onclick=function(){weather.Push()},btn_field.onclick=function(){field.Push()},btn_tailwind_back.onclick=function(){tailwind_back.Push()},btn_swamp_back.onclick=function(){swamp_back.Push()},btn_reflect_back.onclick=function(){reflect_back.Push()},btn_lightscreen_back.onclick=function(){lightscreen_back.Push()},btn_brick_break_back.onclick=function(){reflect_back.Reset(),lightscreen_back.Reset()},btn_safeguard_back.onclick=function(){safeguard_back.Push()},btn_tailwind_front.oncontextmenu=function(){tailwind_front.Count()},btn_swamp_front.oncontextmenu=function(){swamp_front.Count()},btn_reflect_front.oncontextmenu=function(){reflect_front.Count()},btn_lightscreen_front.oncontextmenu=function(){lightscreen_front.Count()},btn_safeguard_front.oncontextmenu=function(){safeguard_front.Count()},btn_trickroom.oncontextmenu=function(){trickroom.Count()},btn_weather.oncontextmenu=function(){weather.Count()},btn_field.oncontextmenu=function(){field.Count()},btn_tailwind_back.oncontextmenu=function(){tailwind_back.Count()},btn_swamp_back.oncontextmenu=function(){swamp_back.Count()},btn_reflect_back.oncontextmenu=function(){reflect_back.Count()},btn_lightscreen_back.oncontextmenu=function(){lightscreen_back.Count()},btn_safeguard_back.oncontextmenu=function(){safeguard_back.Count()},btn_count.onclick=function(){tailwind_front.Count(),reflect_front.Count(),lightscreen_front.Count(),trickroom.Count(),weather.Count(),tailwind_back.Count(),reflect_back.Count(),lightscreen_back.Count(),safeguard_front.Count(),safeguard_back.Count(),swamp_front.Count(),swamp_back.Count(),field.Count(),disp_turn.innerHTML++},btn_reset.onclick=function(){tailwind_front.Reset(),reflect_front.Reset(),lightscreen_front.Reset(),trickroom.Reset(),weather.Reset(),tailwind_back.Reset(),reflect_back.Reset(),lightscreen_back.Reset(),safeguard_front.Reset(),safeguard_back.Reset(),swamp_front.Reset(),swamp_back.Reset(),field.Reset(),disp_turn.innerHTML=1};