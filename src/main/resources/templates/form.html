<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>トリプルフリーデータベース</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}"/>
    <script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/suggest.js}"></script>
    <script th:src="@{/namelist.js}"></script>
    <meta name="viewport" content="width=device-width">
</head>
<body class="bg-primary bg-opacity-10">
    <nav class="navbar navbar-expand-lg navbar-light bg-light justify-content-center mw-100">
        <div class="container-fluid">
            <a class="navbar-brand" href="/overview">トリプルフリーデータベース</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/ranking">使用率ランキング</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/form">パーティ投稿フォーム</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/overview">このサイトについて</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://twitter.com/TripleUsage">Twitter</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <form method="post" th:object="${pokeForm}" class="rounded center-block m-3 bg-light max-width-60em shadow-sm">
        <div class="container-fluid font-size-09">
            <div class="row justify-content-center">
                <div class="col-md-10">
                    <button type="button" class="btn btn-danger" data-bs-toggle="collapse" data-bs-target="#collapseattention" aria-expanded="false" aria-controls="collapseattention">
                        注意点(クリックで開きます)
                    </button>
                    <div class="collapse" id="collapseattention">
                        <div class="card card-body">
                            <ul>
                                <li>一部のフォルム違いのポケモンは名前の後に以下の文字を入れて区別し記入します。</li>
                                <ul>
                                    <li>デオキシス - ノーマル・アタック・ディフェンス・スピード→N・D・A・S</li>
                                    <li>ミノマダム - くさき・すなち・ゴミ→草・砂・鋼</li>
                                    <li>ロトム - 通常・ヒート・ウォッシュ・フロスト・スピン・カット→霊・炎・水・氷・飛・草</li>
                                    <li>シェイミ - ランド・スカイ→草・飛</li>
                                    <li>ボルトロス・トルネロス・ランドロス - けしん・れいじゅう→化・霊</li>
                                    <li>キュレム - 通常・ホワイト・ブラック→通・白・黒</li>
                                    <li>ニャオニクス - オスのすがた・メスのすがた→♂・♀</li>
                                    <li>バケッチャ・パンプジンのサイズ小～特大→小・中・大・特</li>
                                    <li>フーパ - いましめられし・ときはなたれし→霊・悪</li>
                                </ul>
                                <li>アルセウスのような持ち物によってフォルムチェンジするポケモン、メブキジカのような見た目だけ変わるポケモンは区別しません。</li>
                                <li>1体のポケモンに採用している技が4個以下であった場合、"なし(1枠目)"~"なし(3枠目)"を順に入力していきます。</li>
                                <ul>
                                    <li>例1:ニンフィア:ハイパーボイス・ねごと・なし(1枠目)・なし(2枠目)</li>
                                    <li>例2:アンノーン:めざめるパワー(エスパー)・なし(1枠目)・なし(2枠目)・なし(3枠目)</li>
                                </ul>
                                <li>めざめるパワーは"めざめるパワー(ほのお)"のようにタイプも必ず入力してください。</li>
                                <li>ガルーラナイト、リザードナイトXのようなメガストーンを持たせる場合は"メガストーン"、"メガストーンX"、"メガストーンY"と入力してください。</li>
                                <li>あなぬけのヒモのような効果のない持ち物を持たせる場合は"その他"と入力してください。</li>
                                <li>持ち物を持たせない場合は"持ち物なし"と入力してください。</li>
                                <li>入力した内容が間違ってる場合は入力欄が赤くなります。正確に入力してください。</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-md-4 m-1">
                    ポケモン① @ もちもの<br>
                    <input type="text" name="p1" id="plist" placeholder="ポケモン" th:value="*{p1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="i1" id="ilist" placeholder="もちもの" th:value="*{i1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    特性 - 性格<br>
                    <input type="text" name="a1" id="alist" placeholder="特性" th:value="*{a1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="n1" id="nlist" placeholder="性格" th:value="*{n1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    技1 - 技2 - 技3 - 技4<br>
                    <input type="text" name="m1_1" id="mlist" placeholder="わざ１" th:value="*{m1_1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m1_2" id="mlist" placeholder="わざ２" th:value="*{m1_2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    <input type="text" name="m1_3" id="mlist" placeholder="わざ３" th:value="*{m1_3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m1_4" id="mlist" placeholder="わざ４" th:value="*{m1_4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                </div>
                <div class="col-md-4 m-1">
                    ポケモン② @ もちもの<br>
                    <input type="text" name="p2" id="plist" placeholder="ポケモン" th:value="*{p2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="i2" id="ilist" placeholder="もちもの" th:value="*{i2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    特性 - 性格<br>
                    <input type="text" name="a2" id="alist" placeholder="特性" th:value="*{a2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="n2" id="nlist" placeholder="性格" th:value="*{n2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    技1 - 技2 - 技3 - 技4<br>
                    <input type="text" name="m2_1" id="mlist" placeholder="わざ１" th:value="*{m2_1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m2_2" id="mlist" placeholder="わざ２" th:value="*{m2_2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    <input type="text" name="m2_3" id="mlist" placeholder="わざ３" th:value="*{m2_3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m2_4" id="mlist" placeholder="わざ４" th:value="*{m2_4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                </div>
                <div class="col-md-4 m-1">
                    ポケモン③ @ もちもの<br>
                    <input type="text" name="p3" id="plist" placeholder="ポケモン" th:value="*{p3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="i3" id="ilist" placeholder="もちもの" th:value="*{i3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    特性 - 性格<br>
                    <input type="text" name="a3" id="alist" placeholder="特性" th:value="*{a3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="n3" id="nlist" placeholder="性格" th:value="*{n3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    技1 - 技2 - 技3 - 技4<br>
                    <input type="text" name="m3_1" id="mlist" placeholder="わざ１" th:value="*{m3_1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m3_2" id="mlist" placeholder="わざ２" th:value="*{m3_2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    <input type="text" name="m3_3" id="mlist" placeholder="わざ３" th:value="*{m3_3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m3_4" id="mlist" placeholder="わざ４" th:value="*{m3_4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                </div>
                <div class="col-md-4 m-1">
                    ポケモン④ @ もちもの<br>
                    <input type="text" name="p4" id="plist" placeholder="ポケモン" th:value="*{p4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="i4" id="ilist" placeholder="もちもの" th:value="*{i4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    特性 - 性格<br>
                    <input type="text" name="a4" id="alist" placeholder="特性" th:value="*{a4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="n4" id="nlist" placeholder="性格" th:value="*{n4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    技1 - 技2 - 技3 - 技4<br>
                    <input type="text" name="m4_1" id="mlist" placeholder="わざ１" th:value="*{m4_1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m4_2" id="mlist" placeholder="わざ２" th:value="*{m4_2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    <input type="text" name="m4_3" id="mlist" placeholder="わざ３" th:value="*{m4_3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m4_4" id="mlist" placeholder="わざ４" th:value="*{m4_4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                </div>
                <div class="col-md-4 m-1">
                    ポケモン⑤ @ もちもの<br>
                    <input type="text" name="p5" id="plist" placeholder="ポケモン" th:value="*{p5}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="i5" id="ilist" placeholder="もちもの" th:value="*{i5}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    特性 - 性格<br>
                    <input type="text" name="a5" id="alist" placeholder="特性" th:value="*{a5}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="n5" id="nlist" placeholder="性格" th:value="*{n5}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    技1 - 技2 - 技3 - 技4<br>
                    <input type="text" name="m5_1" id="mlist" placeholder="わざ１" th:value="*{m5_1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m5_2" id="mlist" placeholder="わざ２" th:value="*{m5_2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    <input type="text" name="m5_3" id="mlist" placeholder="わざ３" th:value="*{m5_3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m5_4" id="mlist" placeholder="わざ４" th:value="*{m5_4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                </div>
                <div class="col-md-4 m-1">
                    ポケモン⑥ @ もちもの<br>
                    <input type="text" name="p6" id="plist" placeholder="ポケモン" th:value="*{p6}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="i6" id="ilist" placeholder="もちもの" th:value="*{i6}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    特性 - 性格<br>
                    <input type="text" name="a6" id="alist" placeholder="特性" th:value="*{a6}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="n6" id="nlist" placeholder="性格" th:value="*{n6}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    技1 - 技2 - 技3 - 技4<br>
                    <input type="text" name="m6_1" id="mlist" placeholder="わざ１" th:value="*{m6_1}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m6_2" id="mlist" placeholder="わざ２" th:value="*{m6_2}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                    <input type="text" name="m6_3" id="mlist" placeholder="わざ３" th:value="*{m6_3}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div>
                    <input type="text" name="m6_4" id="mlist" placeholder="わざ４" th:value="*{m6_4}" class="max-width-9em" th:errorclass="error">
                    <div id="suggest" style="display:none;"></div><br>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-4">
                    使用を開始した日付<br>
                    <input type="date" name="d" id="d" th:value="*{d}" th:errorclass="error">
                    <input type="submit" class="btn btn-primary m-1 " value="登録する！">
                </div>
            </div>
        </div>
    </form>


<style>
    input.error {
        background-color: rgb(255, 147, 147);
    }
    .font-size-09 {
        font-size: 0.9rem;
    }
    .max-width-9em {
        max-width: 9em;
    }
    .max-width-60em {
        max-width: 60em;
    }
    #suggest {
      position: absolute;
      background-color: #FFFFFF;
      border: 1px solid #CCCCFF;
      width: 252px;
    }
    #suggest div {
      padding: 1px;
      display: block;
      width: 250px;
      overflow: hidden;
      white-space: nowrap;
    }
    #suggest div.select{
      color: #FFFFFF;
      background-color: #3366FF;
    }
    #suggest div.over{
      background-color: #99CCFF;
    }
</style>

<script>
    var pokemonSuggest = function() {
        new Suggest.Local(
            "plist",
            "suggest",
            pnamelist,
            {dispMax: 0, interval: 100}
        );
    }
    var abilitySuggest = function() {
        new Suggest.Local(
            "alist",
            "suggest",
            anamelist,
            {dispMax: 0, interval: 100}
        );
    }
    var itemSuggest = function() {
        new Suggest.Local(
            "ilist",
            "suggest",
            inamelist,
            {dispMax: 0, interval: 100}
        );
    }
    var moveSuggest = function() {
        new Suggest.Local(
            "mlist",
            "suggest",
            mnamelist,
            {dispMax: 0, interval: 100}
        );
    }
    var personalSuggest = function() {
        new Suggest.Local(
            "nlist",
            "suggest",
            nnamelist,
            {dispMax: 0, interval: 100}
        );
    }
    var todayDate = function() {
        var today = new Date();
        today.setDate(today.getDate());
        var y = today.getFullYear();
        var m = ("0" + (today.getMonth() + 1)).slice(-2);
        var d = ("0" + today.getDate()).slice(-2);
        document.getElementById("d").value = y + "-" + m + "-" + d;
    }
    window.onload = function() {
        todayDate();
        pokemonSuggest();
        itemSuggest();
        abilitySuggest();
        personalSuggest();
        moveSuggest();
    }
</script>